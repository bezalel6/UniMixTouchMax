CompileFlags:
  Add:
    # ESP32-S3 specific defines
    - -DESP32
    - -DESP32S3
    - -DESP_PLATFORM
    - -DARDUINO_ARCH_ESP32
    - -DARDUINO_ESP32_DEV
    - -DARDUINO_BOARD="ESP32_8048S070C"
    - -DARDUINO_VARIANT="esp32s3"
    - -DCONFIG_IDF_TARGET_ESP32S3=1
    - -DCONFIG_FREERTOS_HZ=1000

    # LVGL configuration
    - -DLV_CONF_PATH="include/lv_conf.h"
    - -DLV_LVGL_H_INCLUDE_SIMPLE

    # C++ standard and essential flags
    - -std=gnu++2a
    - -fno-rtti
    - -fno-exceptions
    - -include
    - PIOConfig.h
    - -fparse-all-comments
    - -ferror-limit=0

    # Essential warning suppression for ESP32 development
    - -Wno-unused-parameter
    - -Wno-unused-function
    - -Wno-unused-variable
    - -Wno-sign-compare

    # Fixed paths for your specific user (bezal)
    - -IC:/Users/bezal/.platformio/packages/framework-arduinoespressif32/cores/esp32
    - -IC:/Users/bezal/.platformio/packages/framework-arduinoespressif32/variants/esp32s3
    - -IC:/Users/bezal/.platformio/packages/framework-arduinoespressif32/tools/sdk/esp32s3/include
    - -IC:/Users/bezal/.platformio/packages/framework-arduinoespressif32/tools/sdk/esp32s3/include/freertos/include
    - -IC:/Users/bezal/.platformio/packages/framework-arduinoespressif32/tools/sdk/esp32s3/include/driver/include
    - -IC:/Users/bezal/.platformio/packages/framework-arduinoespressif32/tools/sdk/esp32s3/include/esp_common/include
    - -IC:/Users/bezal/.platformio/packages/framework-arduinoespressif32/tools/sdk/esp32s3/include/esp_system/include
    - -IC:/Users/bezal/.platformio/packages/framework-arduinoespressif32/tools/sdk/esp32s3/include/hal/include
    - -IC:/Users/bezal/.platformio/packages/framework-arduinoespressif32/tools/sdk/esp32s3/include/soc/include
    - -IC:/Users/bezal/.platformio/packages/framework-arduinoespressif32/tools/sdk/esp32s3/include/log/include

    # Project library dependencies
    - -I.pio/libdeps/esp32-8048S070C/esp32_smartdisplay/src
    - -I.pio/libdeps/esp32-8048S070C/ArduinoJson/src
    - -I.pio/libdeps/esp32-8048S070C/PubSubClient/src
    - -I.pio/libdeps/esp32-8048S070C/tiny-regex-c
    - -I.pio/libdeps/esp32-8048S070C/lvgl/src

    # Project directories
    - -Isrc
    - -Iinclude
    - -Ilib
    - -Icomponents

  Remove:
    # Remove problematic ESP32-specific flags that clangd can't handle
    - -mtext-section-literals
    - -mlongcalls
    - -mfix-esp32-psram-cache-issue
    - -fstrict-volatile-bitfields

Index:
  Background: Build
  StandardLibrary: No

Diagnostics:
  # Suppress common ESP32/Arduino issues that aren't real problems
  Suppress:
    - pp_file_not_found
    - unknown_typename
    - unused_value
    - unused_variable
    - unused_function
  ClangTidy:
    Remove:
      - readability-magic-numbers
      - modernize-use-trailing-return-type
      - bugprone-easily-swappable-parameters
      - readability-identifier-length

InlayHints:
  Enabled: false  # Disable for better performance

Hover:
  ShowAKA: true
